parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"4ain":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.map(function(e){return"".concat(e).concat(r.shift()||"")}).join("")},t=e;exports.default=t;
},{}],"Pxvw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./html"));function t(e){return e&&e.__esModule?e:{default:e}}function n(){var e=r(['\n      <div class="BetterTitle">\n        <span>',"</span>\n      </div>\n    "]);return n=function(){return e},e}function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}function u(e,t){return o(e)||c(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(e,t){var n=[],r=!0,i=!1,u=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(o){i=!0,u=o}finally{try{r||null==c.return||c.return()}finally{if(i)throw u}}return n}function o(e){if(Array.isArray(e))return e}function l(e,t,n,r,i,u,a){try{var c=e[u](a),o=c.value}catch(l){return void n(l)}c.done?t(o):Promise.resolve(o).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var u=e.apply(t,n);function a(e){l(u,r,i,a,c,"next",e)}function c(e){l(u,r,i,a,c,"throw",e)}a(void 0)})}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(){function t(e){var n=this;f(this,t),h(this,"findItemValue",function(){var e=s(regeneratorRuntime.mark(function e(t){var r,i,a,c,o,l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.split(":"),i=u(r,2),a=i[0],c=i[1],o=n.plugin.getFieldValue(a),e.next=4,n.client.items.find(o);case 4:return l=e.sent,s=l[n.constructor.cleanValue(c)],e.abrupt("return",s);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),h(this,"findItemTypeValue",function(e){return function(){var t=s(regeneratorRuntime.mark(function t(r){var i,a,c,o,l,s,f,p,d,h,m,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=n.constructor,c=a.cleanValue,o=a.regexReplaceFieldValue,l=r.split(":"),s=u(l,2),f=s[0],p=s[1],d=e[f],h=d[p],t.next=7,n.client.items.find(h);case 7:m=t.sent,v=m[c(p)],i=o(p,v),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),i="";case 15:return t.abrupt("return",i);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(e){return t.apply(this,arguments)}}()}),h(this,"getFieldValue",function(){var e=s(regeneratorRuntime.mark(function e(t){var r,a,c,o,l,s,f,p,d,m,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.constructor,c=a.cleanValue,o=a.regexReplaceFieldValue,!t.match(/\w+:\[/)){e.next=13;break}return l=t.split(":["),s=u(l,2),f=s[0],p=s[1],e.next=5,n.plugin.getFieldValue(f);case 5:return d=e.sent,m=d.reduce(function(e,t){return i({},e,h({},n.itemTypes.find(function(e){return e.id===t.itemTypeId}).attributes.api_key,t))},{}),v=p.slice(0,-1).trim().replace(/\s/g,"").split(","),e.next=10,Promise.all(v.map(n.findItemTypeValue(m)));case 10:r=e.sent.join(" "),e.next=20;break;case 13:if(!t.match(/\w+:/)){e.next=19;break}return e.next=16,n.findItemValue(t);case 16:r=e.sent,e.next=20;break;case 19:r=n.plugin.getFieldValue(c(t));case 20:return r=o(t,r),e.abrupt("return",r);case 22:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var r=e.parameters,a=e.fieldPath,c=r.instance,o=c.visible,l=c.fields,p=r.global.apiToken;this._itemTypes=e.site.relationships.item_types.data.map(function(t){return e.itemTypes[t.id]}),this._plugin=e,this._fieldPath=a,this._client=new Dato.SiteClient(p),this._fields=l.split(/(?!\B(\(|\[)[^([]*),(?![^([]*(\)|\])\B)/).filter(function(e){return void 0!==e}).map(function(e){return e.trim()}),e.toggleField(a,o)}return d(t,[{key:"render",value:function(){var t=s(regeneratorRuntime.mark(function t(){var r,i,u,a,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.fields,i=this.plugin,u=this.fieldPath,a=this.getFieldValue,t.next=3,Promise.all(r.map(a));case 3:return c=t.sent.join(" "),i.setFieldValue(u,c),t.abrupt("return",(0,e.default)(n(),c));case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"plugin",get:function(){return this._plugin}},{key:"itemTypes",get:function(){return this._itemTypes}},{key:"fieldPath",get:function(){return this._fieldPath}},{key:"client",get:function(){return this._client}},{key:"fields",get:function(){return this._fields}}]),t}();exports.default=m,h(m,"cleanValue",function(e){return e.replace(/(:.+|\(.+)/g,"")}),h(m,"regexReplaceFieldValue",function(e,t){var n=e.match(/(?!:)(?<=\()[^(].+(?=\))/gm);if(!n)return t;var r=u(n[0].split(/(?<=(?<!\\)\/),(?=(?:\s+|)(?:'|"))/g).map(function(e){return e.trim().slice(1,-1)}),2),i=r[0],a=r[1];return t.toString().replace(new RegExp(i,"g"),a)});
},{"./html":"4ain"}],"Focm":[function(require,module,exports) {
"use strict";var e=n(require("./BetterTitle"));function n(e){return e&&e.__esModule?e:{default:e}}function t(e,n,t,r,u,i,o){try{var a=e[i](o),c=a.value}catch(f){return void t(f)}a.done?n(c):Promise.resolve(c).then(r,u)}function r(e){return function(){var n=this,r=arguments;return new Promise(function(u,i){var o=e.apply(n,r);function a(e){t(o,u,i,a,c,"next",e)}function c(e){t(o,u,i,a,c,"throw",e)}a(void 0)})}}var u=document.getElementById("root");DatoCmsPlugin.init(function(n){n.startAutoResizer();var t=new e.default(n),i=function(){var e=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.render();case 2:return e.abrupt("return",u.innerHTML=e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();i(),t.fields.map(function(n){return e.default.cleanValue(n)}).forEach(function(e){return n.addFieldChangeListener(e,i)})});
},{"./BetterTitle":"Pxvw"}]},{},["Focm"], null)